<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Appointments</title>
  <link rel="stylesheet" href="styles1.css">
</head>
<body>
  <div class="header">
    <button onclick="window.location.href='welcome.html'">Back to Home</button>
    <h1>Manage Appointments</h1>
  </div>

  <div class="action-buttons">
    <button onclick="showSection('addAppointment')">Add New Appointment</button>
    <button onclick="showSection('fetchAppointments')">Fetch All Appointments</button>
    <button onclick="showSection('updateAppointment')">Update Appointment</button>
    <button onclick="showSection('deleteAppointment')">Delete Appointment</button>
  </div>

  <!-- Add Appointment Section -->
  <div id="addAppointment" class="action-section" style="display: none;">
    <h2>Add New Appointment</h2>
    <form id="addAppointmentForm">
      <input type="text" name="DName" placeholder="Doctor Name" required>
      <input type="text" name="Specialization" placeholder="Specialization" required>
      <input type="text" name="Location" placeholder="Location" required>
      <input type="number" name="Fees" placeholder="Fees" required>
      <button type="submit">Add Appointment</button>
    </form>
  </div>

  <!-- Fetch Appointments Section -->
  <div id="fetchAppointments" class="action-section" style="display: none;">
    <h2>All Appointments</h2>
    <div id="appointmentList"></div>
    <button onclick="fetchRecords('appointments', 'appointmentList')">Fetch Appointments</button>
  </div>

  <!-- Update Appointment Section -->
  <div id="updateAppointment" class="action-section" style="display: none;">
    <h2>Update Appointment</h2>
    <form id="updateAppointmentForm">
      <input type="number" name="id" id="UpdateAppointmentID" placeholder="Appointment ID" required>
      <input type="text" name="DName" id="UpdateDName" placeholder="Doctor Name">
      <input type="text" name="Specialization" id="UpdateSpecialization" placeholder="Specialization">
      <input type="text" name="Location" id="UpdateLocation" placeholder="Location">
      <input type="number" name="Fees" id="UpdateFees" placeholder="Fees">
      <button type="submit">Update Appointment</button>
    </form>
  </div>

  <!-- Delete Appointment Section -->
  <div id="deleteAppointment" class="action-section" style="display: none;">
    <h2>Delete Appointment</h2>
    <form id="deleteAppointmentForm">
      <input type="number" id="DeleteAppointmentID" name="id" placeholder="Appointment ID" required>
      <button type="submit">Delete Appointment</button>
    </form>
  </div>

  <script>
    // Function to show/hide sections
    function showSection(sectionId) {
      // Hide all action sections
      const sections = document.querySelectorAll('.action-section');
      sections.forEach(section => section.style.display = 'none');
      
      // Show selected section
      document.getElementById(sectionId).style.display = 'block';
    }

    // Event listeners for form submissions
    document.addEventListener('DOMContentLoaded', () => {
      // Add Appointment
      document.getElementById('addAppointmentForm').addEventListener('submit', (e) => {
        e.preventDefault();
        addRecord('appointments', 'addAppointmentForm');
      });

      // Update Appointment
      document.getElementById('updateAppointmentForm').addEventListener('submit', (e) => {
        e.preventDefault();
        updateRecord('appointments', 'updateAppointmentForm', 'UpdateAppointmentID');
      });

      // Delete Appointment
      document.getElementById('deleteAppointmentForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const id = document.getElementById('DeleteAppointmentID').value;
        deleteRecord('appointments', id);
      });
    });
  </script>
  <script src="script.js"></script>
</body>
</html>